---
title: Fairness
description: We define fairness as 'the maximum payoff received by any individual is not so much greater than the average welfare of every individual', and show how this definition can apply to communicating information effectively in distributed systems.
keywords:
  - understand
  - suave
  - theory
  - fairness
---

import Video from "@site/src/components/Video/Video.tsx";
import AlignItems from "@site/src/components/AlignItems/AlignItems.tsx";

# To be fair

1. How can we ensure that people can participate in the value they create by virtue of the way information about their intentions is acted on? 

    - _We can build systems that account for the time it takes to communicate price._

2. How can systems account for the time it takes to communicate price? 
    
    - _By cultivating shared, permissionless, open marketplaces in which it is profitable to make credible commitments about how you will act on information you receive._  

3. Will such systems be fair? 

    - _If we define fairness as "the maximum payoff received by any individual is not much greater than the average welfare of every individual", then an open marketplace can help us discover more fair orderings because people are more likely to share their information with those who give them the greatest reward, which can only be done by those who both maximize revenue **and** distribute it well._

4. Is fairness a worthwhile goal? 

    - _Intuitively, yes. Logically, we can ask, what does "fairness" really mean? If we extend the ideas on the [previous page](/understand/meaning), a fair environment could be one in which **your capacity to make meaning matches your buying power**._

# Cui bono?

The second claim we'll make in this section is that **we should anticipate how the media we use move messages so that no-one is unfairly manipulated**. We've already looked at how we communicate meaning and value, now we will turn to the time it takes for communication to occur.

Blockchains can be described as verifiable commitment devices. Such devices enable us to [craft prosocial coordination games](https://www.kernel.community/en/learn/module-1/dreamers/#an-infinite-stock-of-games), yet they do not totally remove uncertainty about the payoffs available to different actors, which can skew the outcome of any mechanism we use to discover price, making it unfair. This is because there is some period of time between each block, and so we cannot make commitments and achieve consensus about them (i.e. make them credible) within one block.

This game-theoretic fact about intra-block time introduces a whole spectrum of uncertainty about the payoffs associated with actions taken on information received between blocks. Tarun Chitra explores this thoroughly in the video below:

<Video src="https://www.youtube-nocookie.com/embed/WYH7n4M016A?start=14626" title="Towards a Theory of MEV: Uncertainty" />

One of the key questions Tarun poses in this presentation is, "How do we **achieve a balance** between maximizing revenue (which is good for the stability of systems, especially if they rely on arbitrage), and making sure that the expected welfare for all participants - on average - is not so far away from the maximum payoff."

In order to analyze this question, Tarun starts by looking at fairness in terms of specific applications, rather than the system as a whole. In particular, he shows that applications all have a payoff function, which depends on a set of permutations (i.e. how you order transactions). Such payoff functions can be "smooth" (i.e. the order of transactions doesn't lead to significant differences in the payoff available if there is sufficient liquidity). He proved this in the context of AMMs, where the maximum and expected payoff are only separated multiplicatively by a factor of `log(n)`.

However, payoff functions in the context of _liquidations_ are discontinuous. If the price drops below a certain point, everything happens, but until such time, nothing happens. So, if you can permute the transactions from a specific application such that the order results in the price dropping below the point at which a liquidation occurs, then you can achieve payoffs which differ significantly from the average. This is unfair, by our definition. It also means that liquidations are the fundamental basis for payoffs: any payoff functions in blockchains can be written as a sum of liquidation games. It's worth reflecting deeply on this point:

> **People taking leverage serves as the basis for the set of all payoffs**. 

Moreover, the maximum and expected payoff in the context of liquidation games is separated multiplicatively by a factor of `n!`. This is a much bigger problem if we're trying to craft fair systems that do not advantage those who can act on price information they receive first.

# Fairier transforms

Tarun asks another question, based on the above: "Is there a way in which, given a payoff function, we can determine the difference between the average and maximum payoff such that we can provide some guarantees on fairness?" He suggests that an analogue of Fourier transforms can assist us do exactly this.

If all payoffs are the sum of liquidation games, we can decompose them in the same way we can separate out different frequencies in a complex waveform. The "high frequency" waves are equivalent to sets of transactions in which there are very few permutations that can trigger a liquidation. The "low frequency" waves are equivalent to sets of transactions where many different permutations can trigger a liquidation. This allows us to analyze how constrained we are in realising a particular payoff (lots of high frequencies `=` constrained, lots of low frequencies `=` not constrained). 

We can go further by looking at the Fourier coefficient. If a set of permutations is large, and the Fourier coefficient over that set is large, then the value of the payoff function approaches the average across all permutations. If the set is small, but has a very large coefficient, it approaches the maximum value. Tarun also introduces the Uncertainty Principle which, in this case, states that if you make a function really sharp (highly specified/exact), the Fourier transform of that function cannot also be sharp. This leads us to three facts:

1. Liquidations generate all payoff functions
2. The Fourier transform provides a way of going from a given payoff to that payoff represented in the basis of all liquidations
3. The Uncertainty Principle provides a bound on the expected value over the maximum value

These three facts together give us an explicit way to quantify fairness! 

In practice, this means that to avoid maximally unfair payoffs, we need to have a sufficiently large set of possible orderings _and_ there needs to be a large degree of overlap between the possible orderings and the Fourier coefficient. The way to achieve this is an **open marketplace for mechanisms** at the application level.

# Generally suave

This is exactly what SUAVE is: an open marketplace for applications that determine specific ways of ordering transactions, such that we can provide approximate fairness guarantees _in general_, i.e. across any new use case that occurs indefinitely into the future.

It's important to understand the _general_ nature of SUAVE. As we have stressed, MEV is a general phenomenon which arises from the time it takes to communicate. People have been aware of this for centuries, but no-one has attempted to build systems that can account for it, because no-one had the sort of verifiable commitment devices (blockchains) we enjoy.

Bitcoin represents a new medium with/in which we can coordinate the creation and distribution of money. Ethereum represents a new medium with/in which we can coordinate _in general_. However, the commitments this requires are public, which means that the information they contain can be manipulated in the time it takes to verify a new block, creating unfair outcomes for those seeking to coordinate.

**SUAVE represents a new medium with/in which we can coordinate how everyone coordinates**. SUAVE is the metacognition for every other coordination system. And we do mean every other coordination system: everything from blockchains to traditional exchanges to Google AdWords suffers from some version of MEV.

If you reflected on that fact that people taking leverage serves as the basis for all payoff functions, you might begin to sense how deep this runs. Derivatives are weapons of mass destruction not because of some intrinsic flaw in their own structure, but because the market mechanisms used to trade them cannot account for the way that liquidations skew payoff functions. SUAVE fixes this.

<AlignItems horizontal="center" vertical="center" sideMargin={0}>
<div>
  <img alt="Fairier Transformers" src={require('/static/img/fairier-transformers.png').default} />
</div>
</AlignItems>